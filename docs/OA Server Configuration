1) Operating System Configuration
   a) Installation
      Language: English
      Keyboard: English
      Time Zone: Etc/UTC (System clock uses UTC)
      Password: <Root Password>

   b) Configure Yum to use proxy
      proxy variable in /etc/yum.conf
      proxy=http://proxy.jf.intel.com:911

   c) Install VM Guest Additions (On VM only)
      /etc/sysconfig/network-scripts/ifcfg-eth0
      NM_CONTROLLED=no
      ONBOOT=yes
      # service network restart

      # yum update
      # yum install gcc kernel-devel kernel-headers

      # reboot

      # mount -t iso9660 -o ro /dev/cdrom /media
      # /media/VBoxLinuxAdditions.run

      mount shared folder
      # mount -t vboxsf <shared folder name> /media
   
   d) Install application server software
      # yum install java-1.7.0-openjdk-devel

   e) Create limited user account and extract server software inside a user home directory
      # adduser -c 'OnlineAthletics Application Account' onlineathletics
      # passwd onlineathletics <OA account password>

      # mkdir /home/onlineathletics/Applications
      # cp /media/glassfish-4.0.zip /home/onlineathletics/Applications/
      # cp /media/mysql-5.6.15-linux-glibc2.5-i686.tar.gz /home/onlineathletics/Applications/

      # yum install unzip
      # unzip /home/onlineathletics/Applications/glassfish-4.0.zip -d /home/onlineathletics/Applications/
      # tar -xzvf /home/onlineathletics/Applications/mysql-5.6.15-linux-glibc2.5-i686.tar.gz -C /home/onlineathletics/Applications/ 

      # c /media/mysql-connector-java-5.1.25-bin.jar /home/onlineathletics/Applications/glassfish4/glassfish/lib

      # rm -f /home/onlineathletics/Applications/glassfish-4.0.zip
      # rm -f /home/onlineathletics/Applications/mysql-5.6.15-linux-glibc2.5-i686.tar.gz
      # mv /home/onlineathletics/Applications/mysql-5.6.15-linux-glibc2.5-i686 /home/onlineathletics/Applications/mysql

      # chown -R onlineathletics /home/onlineathletics/
      # chgrp -R onlineathletics /home/onlineathletics/
      

[ALL OF THE STEPS BELOW PROCESSED UNDER OA ACCOUNT]

2) MySQL Server Configuration
   a) Create MySQL configuration file
      /home/onlineathletics/Applications/mysql/my.cnf
      [client]
      port   = 3306
      socket = /tmp/mysql.sock 

      [mysqld]
      port    = 3306
      socket  = /tmp/mysql.sock
      skip-locking

      set-variable = key_buffer=256M
      set-variable = max_allowed_packet=1M
      set-variable = table_cache=256
      set-variable = sort_buffer=1M
      set-variable = record_buffer=1M
      set-variable = myisam_sort_buffer_size=64M
      set-variable = thread_cache=8
      # the number of CPU's*2 for thread_concurrency
      # set-variable = thread_concurrency=8
      log-bin
      server-id = 1

      # the following for using BDB tables
      #set-variable = bdb_cache_size=64M
      #set-variable = bdb_max_lock=100000

      # the following for using InnoDB tables
      innodb_data_home_dir = /usr/local/mysql/var/
      innodb_data_file_path = ibdata1:10M:autoextend
      innodb_log_group_home_dir = /usr/local/mysql/var/
      innodb_log_arch_dir = /usr/local/mysql/var/
      # You can set .._buffer_pool_size up to 50 - 80 %
      # of RAM but beware of setting memory usage too high
      set-variable = innodb_buffer_pool_size=256M
      set-variable = innodb_additional_mem_pool_size=20M
      # Set .._log_file_size to 25 % of buffer pool size
      set-variable = innodb_log_file_size=64M
      set-variable = innodb_log_buffer_size=8M
      innodb_flush_log_at_trx_commit=1
      set-variable = innodb_lock_wait_timeout=50

      #basedir = /home/onlineathletics/Applications/mysql
      #datadir = /home/onlineathletics/Applications/mysql/data

      # point the following paths to different dedicated disks
      #tmpdir   = /tmp/   
      #log-update   = /path-to-dedicated-directory/hostname

      [mysqldump]
      quick
      set-variable  = max_allowed_packet=16M

      [mysql]
      no-auto-rehash
      # Remove the next comment character if you are not familiar with SQL
      #safe-updates

      [isamchk]
      set-variable  = key_buffer=128M
      set-variable  = sort_buffer=128M
      set-variable  = read_buffer=2M
      set-variable  = write_buffer=2M

      [myisamchk]
      set-variable  = key_buffer=128M
      set-variable  = sort_buffer=128M
      set-variable  = read_buffer=2M
      set-variable  = write_buffer=2M

      [mysqlhotcopy]
      interactive-timeout

   b) Restrict MySQL from opening a network socket
      [mysqld] section of my.cnf/my.ini file
      skip-networking

   c) Force MySQL to listen only the localhost
      [mysqld] section of my.cnf/my.ini file
      bind-address=127.0.0.1

   d) Disable of the "Load Data Local Infile" command
      [mysqld] section of my.cnf/my.ini file
      set-variable=local-infile=0

   e) Open MySQL command line tool
      # ./mysql --user=<MySQL Root / name> -p onlineathletics
      exit command caused exit from terminal

   f) Remove <MySQL Root> for all domains except <localhost>
      DROP USER '<MySQL Root /  name>'@'<domain>';

      CREATE USER '<MySQL Root / name>'@'localhost' IDENTIFIED BY '<MySQL Root / password>';
      UPDATE mysql.user SET Grant_priv='Y', Super_priv='Y' WHERE User='privilegeddb';
      GRANT ALL ON *.* TO '<MySQL Root / name>'@'localhost';

   g) Create <MySQL OA> user account and grant permissions
      CREATE USER '<MySQL OA / name>'@'localhost' IDENTIFIED BY '<MySQL OA / password>';
      GRANT SELECT ON onlineathletics.* TO '<MySQL OA / name>'@'localhost';
      GRANT EXECUTE ON onlineathletics.* TO '<MySQL OA / name>'@'localhost';

   h) Remove the test database
      DROP DATABASE test;

   i) Remove anonymous and obsolete accounts
      SELECT * FROM mysql.user WHERE user="";

      SHOW GRANTS FOR ''@'localhost';
      SHOW GRANTS FOR ''@'<hostname>';

      DROP USER '';

   j) MySQL user table shall looks like following:
      SELECT user, host FROM mysql.user;
      +-----------------+-----------+
      | user            | host      |
      +-----------------+-----------+
      | <MySQL Root>    | localhost |
      | <MySQL OA>      | localhost |
      +-----------------+-----------+
      2 rows in set (0.00 sec)

   k) Remove MySQL history
      # cat /dev/null > ~/.mysql_history

3) Glassfish Configuration
   a) Create a domain OnlineAthleticsDomain
      # ./asadmin
      create-domain OnlineAthleticsDomain

      specify domain administrative account: <GlassFish Admin / name and password>

   b) Add MySQL JDBC driver to Glassfish classpath
      <Glassfish Installation Directory>/glassfish/domains/<domain>/lib

   c) Add OnlineAthletics Realm to Glassfish classpath
      <Glassfish Installation Directory>/glassfish/domains/<domain>/lib

      <Glassfish Installation Directory>/glassfish/domains/<domain>/config/domain.conf
      <java-config> : classpath-suffix="${com.sun.aas.instanceRoot}/lib/OnlineAthleticsRealm.jar" 

   d) Enable support for OnlineAthletics Realm Login Module
      <Glassfish Installation Directory>/glassfish/domains/<domain>/config/login.conf

      OnlineAthleticsRealm {
          com.onlineathletics.web.auth.OnlineAthleticsLoginModule required;
      };  

   e) Create OnlineAthletics JDBC connection pool
      <Glassfish Installation Directory>/glassfish/domains/<domain>/config/domain.conf
      <domain> / <resources>

      <jdbc-connection-pool datasource-classname="com.mysql.jdbc.jdbc2.optional.MysqlDataSource" res-type="javax.sql.DataSource" description="OnlineAthletics JDBC Connection Pool" name="OnlineAthleticsPool">
        <property name="User" value="<MySQL OA / name>"></property>
        <property name="AutoReconnectForPools" value="false"></property>
        <property name="LoggerClassName" value="com.mysql.jdbc.log.StandardLogger"></property>
        <property name="RetriesAllDown" value="120"></property>
        <property name="IgnoreNonTxTables" value="false"></property>
        <property name="ProfilerEventHandler" value="com.mysql.jdbc.profiler.LoggingProfilerEventHandler"></property>
        <property name="StrictFloatingPoint" value="false"></property>
        <property name="TransformedBitIsBoolean" value="false"></property>
        <property name="UseOldUTF8Behavior" value="false"></property>
        <property name="TreatUtilDateAsTimestamp" value="true"></property>
        <property name="CallableStatementCacheSize" value="100"></property>
        <property name="TcpSndBuf" value="0"></property>
        <property name="Port" value="3306"></property>
        <property name="UseSqlStateCodes" value="true"></property>
        <property name="InitialTimeout" value="2"></property>
        <property name="LoadBalanceExceptionChecker" value="com.mysql.jdbc.StandardLoadBalanceExceptionChecker"></property>
        <property name="AllowUrlInLocalInfile" value="false"></property>
        <property name="NullNamePatternMatchesAll" value="true"></property>
        <property name="Password" value="<MySQL OA / name>"></property>
        <property name="AllowLoadLocalInfile" value="true"></property>
        <property name="PreparedStatementCacheSqlLimit" value="256"></property>
        <property name="Logger" value="com.mysql.jdbc.log.StandardLogger"></property>
        <property name="PrepStmtCacheSize" value="25"></property>
        <property name="AlwaysSendSetIsolation" value="true"></property>
        <property name="ClientCertificateKeyStoreType" value="JKS"></property>
        <property name="CallableStmtCacheSize" value="100"></property>
        <property name="CapitalizeTypeNames" value="true"></property>
        <property name="LocatorFetchBufferSize" value="1048576"></property>
        <property name="UseSSL" value="false"></property>
        <property name="JdbcCompliantTruncationForReads" value="true"></property>
        <property name="TcpRcvBuf" value="0"></property>
        <property name="UseSSPSCompatibleTimezoneShift" value="false"></property>
        <property name="CacheCallableStatements" value="false"></property>
        <property name="DefaultFetchSize" value="0"></property>
        <property name="UseCompression" value="false"></property>
        <property name="GenerateSimpleParameterMetadata" value="false"></property>
        <property name="UseTimezone" value="false"></property>
        <property name="DefaultAuthenticationPlugin" value="com.mysql.jdbc.authentication.MysqlNativePasswordPlugin"></property>
        <property name="CacheServerConfiguration" value="false"></property>
        <property name="AutoDeserialize" value="false"></property>
        <property name="MaxRows" value="-1"></property>
        <property name="UseLocalTransactionState" value="false"></property>
        <property name="SecondsBeforeRetryMaster" value="30"></property>
        <property name="UseUnicode" value="true"></property>
        <property name="SlowQueryThresholdMillis" value="2000"></property>
        <property name="TcpTrafficClass" value="0"></property>
        <property name="NetTimeoutForStreamingResults" value="600"></property>
        <property name="DynamicCalendars" value="false"></property>
        <property name="IncludeThreadNamesAsStatementComment" value="false"></property>
        <property name="TcpKeepAlive" value="true"></property>
        <property name="NoDatetimeStringSync" value="false"></property>
        <property name="EmulateUnsupportedPstmts" value="true"></property>
        <property name="NullCatalogMeansCurrent" value="true"></property>
        <property name="ExplainSlowQueries" value="false"></property>
        <property name="UseStreamLengthsInPrepStmts" value="true"></property>
        <property name="ConnectTimeout" value="0"></property>
        <property name="EmptyStringsConvertToZero" value="true"></property>
        <property name="MaxQuerySizeToLog" value="2048"></property>
        <property name="FailOverReadOnly" value="true"></property>
        <property name="IsInteractiveClient" value="false"></property>
        <property name="LoadBalanceEnableJMX" value="false"></property>
        <property name="RoundRobinLoadBalance" value="false"></property>
        <property name="UseAffectedRows" value="false"></property>
        <property name="ContinueBatchOnError" value="true"></property>
        <property name="UseFastDateParsing" value="true"></property>
        <property name="BlobSendChunkSize" value="1048576"></property>
        <property name="OverrideSupportsIntegrityEnhancementFacility" value="false"></property>
        <property name="ElideSetAutoCommits" value="false"></property>
        <property name="PreparedStatementCacheSize" value="25"></property>
        <property name="GatherPerfMetrics" value="false"></property>
        <property name="UseOnlyServerErrorMessages" value="true"></property>
        <property name="TcpNoDelay" value="true"></property>
        <property name="LogXaCommands" value="false"></property>
        <property name="ReportMetricsIntervalMillis" value="30000"></property>
        <property name="AutoSlowLog" value="true"></property>
        <property name="UseGmtMillisForDatetimes" value="false"></property>
        <property name="PinGlobalTxToPhysicalConnection" value="false"></property>
        <property name="VerifyServerCertificate" value="true"></property>
        <property name="LoadBalanceValidateConnectionOnSwapServer" value="false"></property>
        <property name="EnableQueryTimeouts" value="true"></property>
        <property name="UseInformationSchema" value="false"></property>
        <property name="NoAccessToProcedureBodies" value="true"></property>
        <property name="LoadBalanceBlacklistTimeout" value="0"></property>
        <property name="TrustCertificateKeyStoreType" value="JKS"></property>
        <property name="UltraDevHack" value="false"></property>
        <property name="AllowMultiQueries" value="false"></property>
        <property name="FunctionsNeverReturnBlobs" value="false"></property>
        <property name="SlowQueryThresholdNanos" value="0"></property>
        <property name="StrictUpdates" value="true"></property>
        <property name="AutoClosePStmtStreams" value="false"></property>
        <property name="Url" value="jdbc:mysql://localhost:3306/onlineathletics"></property>
        <property name="HoldResultsOpenOverStatementClose" value="false"></property>
        <property name="TinyInt1isBit" value="true"></property>
        <property name="LoadBalanceStrategy" value="random"></property>
        <property name="UseUsageAdvisor" value="false"></property>
        <property name="TraceProtocol" value="false"></property>
        <property name="YearIsDateType" value="true"></property>
        <property name="CachePrepStmts" value="false"></property>
        <property name="UseColumnNamesInFindColumn" value="false"></property>
        <property name="ProfileSQL" value="false"></property>
        <property name="DisconnectOnExpiredPasswords" value="true"></property>
        <property name="PadCharsWithSpace" value="false"></property>
        <property name="LoadBalanceAutoCommitStatementThreshold" value="0"></property>
        <property name="ClientInfoProvider" value="com.mysql.jdbc.JDBC4CommentClientInfoProvider"></property>
        <property name="UseDynamicCharsetInfo" value="true"></property>
        <property name="UseNanosForElapsedTime" value="false"></property>
        <property name="SocketFactory" value="com.mysql.jdbc.StandardSocketFactory"></property>
        <property name="ParseInfoCacheFactory" value="com.mysql.jdbc.PerConnectionLRUFactory"></property>
        <property name="DontTrackOpenResources" value="false"></property>
        <property name="DumpMetadataOnColumnNotFound" value="false"></property>
        <property name="UseLegacyDatetimeCode" value="true"></property>
        <property name="CompensateOnDuplicateKeyUpdateCounts" value="false"></property>
        <property name="UseBlobToStoreUTF8OutsideBMP" value="false"></property>
        <property name="UseReadAheadInput" value="true"></property>
        <property name="ServerConfigCacheFactory" value="com.mysql.jdbc.PerVmServerConfigCacheFactory"></property>
        <property name="PacketDebugBufferSize" value="20"></property>
        <property name="BlobsAreStrings" value="false"></property>
        <property name="ProcessEscapeCodesForPrepStmts" value="true"></property>
        <property name="AutoGenerateTestcaseScript" value="false"></property>
        <property name="UseDirectRowUnpack" value="true"></property>
        <property name="UseOldAliasMetadataBehavior" value="false"></property>
        <property name="UseServerPrepStmts" value="false"></property>
        <property name="UseServerPreparedStmts" value="false"></property>
        <property name="PrepStmtCacheSqlLimit" value="256"></property>
        <property name="PortNumber" value="3306"></property>
        <property name="URL" value="jdbc:mysql://localhost:3306/onlineathletics"></property>
        <property name="UseJDBCCompliantTimezoneShift" value="false"></property>
        <property name="CachePreparedStatements" value="false"></property>
        <property name="Paranoid" value="false"></property>
        <property name="UseJvmCharsetConverters" value="false"></property>
        <property name="NoTimezoneConversionForTimeType" value="false"></property>
        <property name="QueryTimeoutKillsConnection" value="false"></property>
        <property name="UseUltraDevWorkAround" value="false"></property>
        <property name="InteractiveClient" value="false"></property>
        <property name="QueriesBeforeRetryMaster" value="50"></property>
        <property name="UseFastIntParsing" value="true"></property>
        <property name="MaxReconnects" value="3"></property>
        <property name="EmulateLocators" value="false"></property>
        <property name="Pedantic" value="false"></property>
        <property name="RelaxAutoCommit" value="false"></property>
        <property name="ZeroDateTimeBehavior" value="exception"></property>
        <property name="ClobberStreamingResults" value="false"></property>
        <property name="IncludeInnodbStatusInDeadlockExceptions" value="false"></property>
        <property name="ReconnectAtTxEnd" value="false"></property>
        <property name="MetadataCacheSize" value="50"></property>
        <property name="LoginTimeout" value="0"></property>
        <property name="UseCursorFetch" value="false"></property>
        <property name="LogSlowQueries" value="false"></property>
        <property name="RetainStatementAfterResultSetClose" value="false"></property>
        <property name="AllowNanAndInf" value="false"></property>
        <property name="JdbcCompliantTruncation" value="true"></property>
        <property name="RunningCTS13" value="false"></property>
        <property name="DumpQueriesOnException" value="false"></property>
        <property name="ResultSetSizeThreshold" value="100"></property>
        <property name="RollbackOnPooledClose" value="true"></property>
        <property name="UseLocalSessionState" value="false"></property>
        <property name="CacheCallableStmts" value="false"></property>
        <property name="MaxAllowedPacket" value="-1"></property>
        <property name="GatherPerformanceMetrics" value="false"></property>
        <property name="LoadBalancePingTimeout" value="0"></property>
        <property name="SelfDestructOnPingSecondsLifetime" value="0"></property>
        <property name="RewriteBatchedStatements" value="false"></property>
        <property name="CreateDatabaseIfNotExist" value="false"></property>
        <property name="PopulateInsertRowWithDefaultValues" value="false"></property>
        <property name="SocketFactoryClassName" value="com.mysql.jdbc.StandardSocketFactory"></property>
        <property name="MaintainTimeStats" value="true"></property>
        <property name="UseHostsInPrivileges" value="true"></property>
        <property name="UseUnbufferedInput" value="true"></property>
        <property name="IncludeThreadDumpInDeadlockExceptions" value="false"></property>
        <property name="RequireSSL" value="false"></property>
        <property name="SelfDestructOnPingMaxOperations" value="0"></property>
        <property name="SocketTimeout" value="0"></property>
        <property name="EnablePacketDebug" value="false"></property>
        <property name="CacheResultSetMetadata" value="false"></property>
        <property name="ProfileSql" value="false"></property>
      </jdbc-connection-pool>
      <jdbc-resource pool-name="OnlineAthleticsPool" description="OnlineAthletics JDBC Resource" jndi-name="jdbc/OnlineAthletics"></jdbc-resource>

    Pay attention on follwing properties:
      <property name="User" value="<MySQL OA / name>"></property>
      <property name="Password" value="<MySQL OA / password>"></property>
      <property name="Url" value="jdbc:mysql://localhost:3306/onlineathletics"></property>
      <property name="URL" value="jdbc:mysql://localhost:3306/onlineathletics"></property>
      <property name="NoAccessToProcedureBodies" value="true"></property>

   f) Add OnlineAthletics Realm
      <Glassfish Installation Directory>/glassfish/domains/<domain>/config/domain.conf
      <domain> / <configs> / <config name="server-config"> / <security-service>

      <auth-realm name="OnlineAthleticsRealm" classname="com.onlineathletics.web.auth.OnlineAthleticsRealm">
        <property name="jaas-context" value="OnlineAthleticsRealm"></property>
      </auth-realm>

    g) Change GlassFish http/https ports from 8080/8181 to 80/443
       glassfish/domains/domain1/config/domain.xml