<?xml version='1.0' encoding='UTF-8' ?>

<!--
 * IntelliJustice Intelligent Referee Assistant System
 *
 * The MIT License
 *
 * Copyright 2011-2014 Andrey Pudov.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
-->

<!--
    Document   : contact.xhtml
    Created on : Jan 01, 2014, 07:00:00 PM
    Author     : Andrey Pudov        <mail@andreypudov.com>
    Description:
        The contact us web page.
-->
<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'
      xmlns:h='http://xmlns.jcp.org/jsf/html'
      xmlns:ui='http://java.sun.com/jsf/facelets'
      xmlns:p='http://xmlns.jcp.org/jsf/passthrough'
      xmlns:f='http://java.sun.com/jsf/core'>
    <body>
        <ui:composition template='resources/schemas/layout.xhtml'>
            <ui:define name='title'>
                <title>Online Athletics - Contact Online Athletics</title>
            </ui:define>
            <ui:define name='content'>
                <div class='container'>
                    <div class='page-header'>
                        <h1>${MESSAGES.page_contact_title}<small>If you have questions about our service or other topics, weâ€™d like to hear from you.</small></h1>
                    </div>
                    <div class='row'>
                        <h:form id='contactForm' onsubmit='return validateContactForm();'>
                            <!-- the form validation handler -->
                            <f:event listener='#{contactForm.validate}' type='postValidate' />
                             
                            <!-- the error message block -->
                            <div class='col-sm-6 col-sm-offset-6' style="display: #{(!contactForm.nameValid || !contactForm.emailValid || !contactForm.messageValid) ? 'initial' : 'none'}">
                                <div class="alert alert-danger">
                                    <p>
                                        <strong>${MESSAGES.contact_form_title}</strong>
                                        ${MESSAGES.contact_form_subtitile}
                                        <ul>
                                            <li style="display: #{!contactForm.nameValid    ? 'list-item' : 'none'}"><h:message for='contactInputName' /></li>
                                            <li style="display: #{!contactForm.emailValid   ? 'list-item' : 'none'}"><h:message for='contactInputEmail' /></li>
                                            <li style="display: #{!contactForm.messageValid ? 'list-item' : 'none'}"><h:message for='contactTextArea' /></li>
                                        </ul>
                                    </p>
                                </div>
                            </div>
                            
                            <div class='col-sm-6 col-sm-offset-6'>
                                <div class="form-group #{contactForm.nameValid ? '' : 'input-group has-error'}">
                                    <h:inputText id='contactInputName' class='form-control'
                                                 value='#{contactForm.name}'
                                                 p:type='text' p:placeholder='Your name'
                                                 onchange='validateText(this, CONTACT_NAME_MAX_LENGTH)' />
                                    <span class='validation-missing'>${MESSAGES.name_is_missing}</span>
                                    <span class='validation-overlong'>${MESSAGES.name_is_overlong}</span>
                                    <span class='input-group-addon validation-group-addon'>
                                        &#10033; <!-- asterisk -->
                                    </span>
                                </div>
                                
                                <div class="form-group #{contactForm.emailValid ? '' : 'input-group has-error'}">
                                    <h:inputText id='contactInputEmail' class='form-control'
                                                 value='#{contactForm.email}'
                                                 p:type='email' p:placeholder='someone@example.com'
                                                 onchange='validateEmail(this)' />
                                    <span class='validation-missing'>${MESSAGES.email_is_missing}</span>
                                    <span class='validation-invalid'>${MESSAGES.email_is_invalid}</span>
                                    <span class='validation-overlong'>${MESSAGES.email_is_overlong}</span>
                                    <span class="input-group-addon validation-group-addon">
                                        &#10033; <!-- asterisk -->
                                    </span>
                                </div>
                        
                                <div class="form-group #{contactForm.messageValid ? '' : 'has-error'}">
                                    <h:inputTextarea id="contactTextArea" class="form-control"  
                                                     rows="8" value="#{contactForm.message}"
                                                     onchange='validateText(this, CONTACT_MESSAGE_MAX_LENGTH)' />
                                    <span class='validation-missing'>${MESSAGES.message_is_missing}</span>
                                    <span class='validation-overlong'>${MESSAGES.message_is_overlong}</span>
                                </div>
                                
                                <div class="form-group">
                                    <a class='btn btn-primary btn-container'>
                                        <h:commandButton id="submitButton" 
                                                         value="Submit" action="#{contactForm.submit()}" />
                                    </a>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
            </ui:define>
            <ui:define name='page-scripts'>
                <!-- common client side validation functions -->
                <script src='${request.contextPath}/resources/scripts/validation.js'></script>
                
                <script src='${request.contextPath}/resources/libraries/bootstrap/js/tooltip.js'></script>
                <script src='${request.contextPath}/resources/libraries/bootstrap/js/popover.js'></script>
                
                <script>
                    $('body').addClass('contact-form-background');
                </script>
            </ui:define>
        </ui:composition>
    </body>
</html>